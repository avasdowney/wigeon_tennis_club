{% load static %}
{% load custom_tags %}
<link rel="stylesheet" type="text/css" href="{% static 'news/styles.css' %}">

<button onclick="location.href='/logout/'">Logout</button>
<div class="main">
    <h1> News Homepage </h1>
    <p>Welcome to the news page, {{ user.username }}. Stay up to date with our weely news articles!</p>
    
    {% block content %}
        {% if news_list %}
            <ul>
            {% for story in news_list %}
                <h2>{{ story.title }}</a></h2>
                <ul> <p> {{ story.story }}</p> </ul>
            {% endfor %}
            </ul>
        {% else %}
            <p>No stories are available.</p>
        {% endif %}

        <!-- Make only admin able to see add news button. Code also added to project/settings.py 
        and news/templatetags/custom_tags.py to work. -->
    {% if request.user|has_group:"admin" %}
    <button onclick="location.href='/add_news/'">Add News Story</button>
    {% endif %}
</div>

<div class="nav">
    <ul class="navul">
        <li><a href="/news/">Directory</a></li>
        <li><a href="/news/">News</a></li>
        <li><a href="/courts/">Court Reservation</a></li>
        <li><a href="/news/">Account</a></li>
      </ul>
</div>
{% endblock %}